import{d as P,u as M,r as l,m as f,n as L,j as e,H as $,S as D,h as E,i as T,o as q,k as j,M as O,l as R,C as _,E as H,X as V}from"./index-BmffcO0Q.js";import{S as z,g as Z}from"./constants-CtmVGFma.js";import{Z as G,C as I,M as J}from"./MobileFloatingCTA-CPzYRqwa.js";import{B as K}from"./Breadcrumb-Bv0jwLvh.js";import{M as Q}from"./minus-Ch1_ldsH.js";import{T as U}from"./truck-BcrqySDf.js";const W=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Y=P("package",W),le=({navigate:m,onAddToCart:b,onAddRecent:u,showToast:v})=>{const{productId:x}=M(),[n,o]=l.useState(0),[p,h]=l.useState(!1),[w,N]=l.useState(1),s=l.useMemo(()=>f.find(t=>t.id===parseInt(x)||t.id===x),[x]);l.useEffect(()=>{s&&u&&u({id:s.id,name:s.name,image:s.image,price:s.price,category:s.category,type:"product"})},[s,u]);const c=l.useMemo(()=>s?L.find(t=>t.id===s.categoryId):null,[s]),y=l.useMemo(()=>{if(!s)return[];const t=f.filter(d=>d.categoryId===s.categoryId&&d.id!==s.id);if(t.length>=4)return t.slice(0,4);const r=[...f.filter(d=>d.categoryId!==s.categoryId&&d.id!==s.id)].sort(()=>.5-Math.random());return[...t,...r].slice(0,4)},[s]),i=l.useMemo(()=>s?[{src:s.image,alt:s.name}]:[],[s]),[C,S]=l.useState(()=>{try{const t=localStorage.getItem(z.favorites);return t?JSON.parse(t):{}}catch{return{}}}),k=()=>{if(!s)return;const t=!C[s.id];S(a=>{const r={...a};r[s.id]?delete r[s.id]:r[s.id]=!0;try{localStorage.setItem(z.favorites,JSON.stringify(r))}catch{}return window.dispatchEvent(new CustomEvent("instyle:favorites-updated",{detail:{count:Object.keys(r).length}})),r}),v&&v(s.name,t)},g=s?!!C[s.id]:!1,F=async()=>{if(!s)return;const t=window.location.href;if(navigator.share)try{await navigator.share({title:s.name,text:`Check out ${s.name} from InStyle`,url:t});return}catch{}try{await navigator.clipboard.writeText(t),alert("Link copied to clipboard!")}catch{alert("Share not supported")}},A=()=>{if(b&&s)for(let t=0;t<w;t++)b(s)};if(l.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[x]),l.useEffect(()=>{const t=a=>{p&&(a.key==="Escape"&&h(!1),a.key==="ArrowLeft"&&o(r=>r>0?r-1:i.length-1),a.key==="ArrowRight"&&o(r=>r<i.length-1?r+1:0))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[p,i.length]),!s)return e.jsx("main",{className:"min-h-screen bg-[#FAFAFA] pt-32",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-8 text-center py-20",children:[e.jsx("h1",{className:"text-3xl font-serif text-[#1C1B1A] mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-[#666] mb-8",children:"The product you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>m("/"),className:"px-6 py-3 bg-[#1C1B1A] text-white font-bold uppercase text-xs tracking-widest rounded-lg hover:bg-[#C5A059] transition-colors",children:"Back to Home"})]})});const B=`Hi! I'm interested in "${s.name}" (${s.category}). Can you tell me more about pricing and availability?`;return e.jsxs("main",{className:"min-h-screen bg-[#FAFAFA]",children:[e.jsx("div",{className:"bg-[#1C1B1A] text-white pt-28 pb-6",children:e.jsx("div",{className:"container mx-auto px-4 md:px-8",children:e.jsx(K,{navigate:m,items:[{label:"Collections",href:"/#collections"},{label:c?.name||"Products",href:c?`/category/${c.id}`:"/"},{label:s.name}]})})}),e.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-8 md:py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative aspect-[4/3] bg-white rounded-xl md:rounded-2xl overflow-hidden border border-[#E5E5E5] cursor-zoom-in group",onClick:()=>h(!0),children:[e.jsx("div",{className:"md:hidden gallery-swipe absolute inset-0",children:i.map((t,a)=>e.jsx("div",{className:"w-full h-full flex-shrink-0",children:e.jsx("img",{src:t.src,alt:t.alt,className:"w-full h-full object-cover",loading:a===0?"eager":"lazy"})},a))}),e.jsx("img",{src:i[n]?.src,alt:i[n]?.alt,className:"hidden md:block w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-3 md:top-4 right-3 md:right-4 flex gap-2",children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),k()},className:"w-11 h-11 md:w-10 md:h-10 bg-white/95 backdrop-blur-sm rounded-full flex items-center justify-center active:scale-95 transition-all shadow-lg touch-btn","aria-label":g?"Remove from favorites":"Add to favorites",children:e.jsx($,{size:20,className:g?"text-red-500 fill-red-500":"text-[#666]"})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),F()},className:"w-11 h-11 md:w-10 md:h-10 bg-white/95 backdrop-blur-sm rounded-full flex items-center justify-center active:scale-95 transition-all shadow-lg touch-btn","aria-label":"Share",children:e.jsx(D,{size:20,className:"text-[#666]"})})]}),s.tag&&e.jsx("div",{className:"absolute top-3 md:top-4 left-3 md:left-4",children:e.jsx("span",{className:"bg-[#1C1B1A] text-white px-3 py-1.5 text-[10px] font-bold uppercase tracking-widest rounded-lg shadow-lg",children:s.tag})}),e.jsxs("div",{className:"hidden md:flex absolute bottom-4 right-4 bg-white/90 px-3 py-1.5 rounded-full items-center gap-2 text-xs text-[#666]",children:[e.jsx(G,{size:14}),"Click to zoom"]}),i.length>1&&e.jsx("div",{className:"md:hidden absolute bottom-3 left-1/2 -translate-x-1/2 swipe-dots",children:i.map((t,a)=>e.jsx("div",{className:`swipe-dot ${n===a?"active":""}`},a))}),i.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),o(a=>a>0?a-1:i.length-1)},className:"hidden md:flex absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 rounded-full items-center justify-center hover:bg-white transition-colors shadow-sm opacity-0 group-hover:opacity-100",children:e.jsx(I,{size:20})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),o(a=>a<i.length-1?a+1:0)},className:"hidden md:flex absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 rounded-full items-center justify-center hover:bg-white transition-colors shadow-sm opacity-0 group-hover:opacity-100",children:e.jsx(E,{size:20})})]})]}),i.length>1&&e.jsx("div",{className:"hidden md:flex gap-3",children:i.map((t,a)=>e.jsx("button",{onClick:()=>o(a),className:`w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${n===a?"border-[#C5A059] shadow-md":"border-[#E5E5E5] hover:border-[#C5A059]/50"}`,children:e.jsx("img",{src:t.src,alt:t.alt,className:"w-full h-full object-cover"})},a))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-[#C5A059]/10 text-[#C5A059] rounded-full text-xs font-bold uppercase tracking-widest",children:s.category}),s.material&&e.jsx("span",{className:"text-xs text-[#999] uppercase tracking-widest",children:s.material})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-[#1C1B1A] mb-2",children:s.name}),e.jsxs("p",{className:"text-3xl font-serif text-[#C5A059] font-bold",children:["$",s.price?.toLocaleString(),s.unit||""]})]}),e.jsx("div",{className:"prose prose-sm text-[#666] leading-relaxed",children:e.jsx("p",{children:s.description||`The ${s.name} is a beautifully crafted piece from our ${s.category} collection. Designed with attention to detail and built using premium materials, this piece will transform your living space with its timeless elegance.`})}),e.jsxs("div",{className:"bg-white rounded-xl border border-[#E5E5E5] p-5 space-y-4",children:[e.jsx("h3",{className:"font-bold text-[#1C1B1A] text-sm uppercase tracking-widest",children:"Specifications"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#F9F8F6] flex items-center justify-center shrink-0",children:e.jsx(T,{size:16,className:"text-[#C5A059]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-[#999] uppercase tracking-wider",children:"Dimensions"}),e.jsx("p",{className:"font-medium text-[#1C1B1A]",children:s.dimensions||"Custom"})]})]}),s.material&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#F9F8F6] flex items-center justify-center shrink-0",children:e.jsx(Y,{size:16,className:"text-[#C5A059]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-[#999] uppercase tracking-wider",children:"Material"}),e.jsx("p",{className:"font-medium text-[#1C1B1A]",children:s.material})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium text-[#666]",children:"Quantity:"}),e.jsxs("div",{className:"mobile-qty-selector",children:[e.jsx("button",{onClick:()=>N(t=>Math.max(1,t-1)),className:"touch-btn","aria-label":"Decrease quantity",children:e.jsx(Q,{size:18})}),e.jsx("span",{children:w}),e.jsx("button",{onClick:()=>N(t=>t+1),className:"touch-btn","aria-label":"Increase quantity",children:e.jsx(q,{size:18})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm text-[#666]",children:[e.jsx(j,{size:16,className:"text-[#25D366]"}),e.jsx("span",{children:"Custom sizing available"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-[#666]",children:[e.jsx(j,{size:16,className:"text-[#25D366]"}),e.jsx("span",{children:"Handcrafted with premium materials"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-[#666]",children:[e.jsx(j,{size:16,className:"text-[#25D366]"}),e.jsx("span",{children:"Professional installation available"})]})]}),e.jsxs("div",{className:"hidden md:flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsxs("a",{href:Z(B),target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-4 bg-[#25D366] text-white font-bold uppercase text-xs tracking-widest rounded-xl hover:bg-[#128C7E] transition-colors flex items-center justify-center gap-2 shadow-lg",children:[e.jsx(O,{size:18}),"Inquire on WhatsApp"]}),e.jsxs("button",{onClick:A,className:"flex-1 py-4 bg-[#1C1B1A] text-white font-bold uppercase text-xs tracking-widest rounded-xl hover:bg-[#C5A059] transition-colors flex items-center justify-center gap-2",children:[e.jsx(R,{size:18}),"Add to Cart"]})]}),e.jsxs("div",{className:"bg-[#F9F8F6] rounded-xl p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center shrink-0",children:e.jsx(U,{size:18,className:"text-[#C5A059]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-[#1C1B1A] text-sm",children:"Delivery & Installation"}),e.jsx("p",{className:"text-xs text-[#666] mt-1",children:"Delivery available across Lebanon. Professional installation available for an additional fee."})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center shrink-0",children:e.jsx(_,{size:18,className:"text-[#C5A059]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-[#1C1B1A] text-sm",children:"Lead Time"}),e.jsx("p",{className:"text-xs text-[#666] mt-1",children:"Standard items: 2-3 weeks. Custom orders: 4-6 weeks."})]})]})]})]})]}),y.length>0&&e.jsxs("div",{className:"mt-16 pt-16 border-t border-[#E5E5E5]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-serif text-[#1C1B1A]",children:"You May Also Like"}),c&&e.jsx("button",{onClick:()=>m(`/category/${c.id}`),className:"text-sm font-bold uppercase tracking-widest text-[#C5A059] hover:text-[#1C1B1A] transition-colors",children:"View All â†’"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:y.map(t=>e.jsxs("button",{onClick:()=>m(`/product/${t.id}`),className:"group bg-white rounded-lg overflow-hidden border border-[#E5E5E5] hover:border-[#C5A059] hover:shadow-lg transition-all text-left",children:[e.jsxs("div",{className:"aspect-[4/3] overflow-hidden relative",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white px-3 py-1.5 rounded-full flex items-center gap-1.5 text-xs font-medium text-[#1C1B1A]",children:[e.jsx(H,{size:14}),"View"]})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"text-[9px] text-[#C5A059] uppercase tracking-widest font-medium mb-0.5",children:t.category}),e.jsx("h3",{className:"font-medium text-sm text-[#1C1B1A] group-hover:text-[#C5A059] transition-colors truncate",children:t.name}),e.jsxs("p",{className:"text-sm text-[#C5A059] font-bold",children:["$",t.price?.toLocaleString(),t.unit||""]})]})]},t.id))})]})]}),p&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4",onClick:()=>h(!1),children:[e.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 w-12 h-12 bg-white/10 rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:e.jsx(V,{size:24})}),i.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),o(a=>a>0?a-1:i.length-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/10 rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:e.jsx(I,{size:24})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),o(a=>a<i.length-1?a+1:0)},className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/10 rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:e.jsx(E,{size:24})})]}),e.jsx("img",{src:i[n]?.src,alt:i[n]?.alt,className:"max-w-full max-h-[90vh] object-contain",onClick:t=>t.stopPropagation()}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/10 px-4 py-2 rounded-full text-white text-sm",children:[n+1," / ",i.length]})]}),e.jsx(J,{price:s.price,onAddToCart:A,onFavorite:k,isFavorite:g,productName:s.name})]})};export{le as default};
